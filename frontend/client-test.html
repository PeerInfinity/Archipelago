<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Client Modules Test</title>
    <meta charset="UTF-8" />
    <style>
      /* Base styles */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #9a9a9a;
        font-family: Arial, sans-serif;
      }

      /* Page Layout */
      #page-layout {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
        height: 100%;
        box-sizing: border-box;
      }

      /* Main Content Area */
      #main-content {
        width: 100%;
        max-width: 800px;
        background-color: #2d2d2d;
        border: 2px solid #cecece;
        border-radius: 4px;
        padding: 1em;
        margin: 0 auto;
        color: #cecece;
        display: flex;
        flex-direction: column;
      }

      /* Header Elements */
      #header-text {
        text-align: center;
        margin: 0;
        padding: 0;
        color: #cecece;
      }

      /* Status Bar */
      #status-bar {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        margin-top: 1em;
      }

      /* Progress Container */
      #progress-container {
        text-align: center;
        margin: 1em 0;
      }

      #progress-container #progress-container-header {
        margin-bottom: 0;
      }

      #progress-container #progress-bar {
        width: 100%;
      }

      .button-container {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }

      #progress-container #control-button,
      #progress-container #quick-check-button {
        padding-left: 1em;
        padding-right: 1em;
        flex: 1;
        background-color: #4a4a4a;
        color: #cecece;
        border: 1px solid #cecece;
        border-radius: 4px;
        padding: 0.5em;
        cursor: pointer;
      }

      #progress-container #control-button:disabled,
      #progress-container #quick-check-button:disabled {
        background-color: #3a3a3a;
        color: #8a8a8a;
        cursor: default;
      }

      /* Console Area */
      #console {
        width: 100%;
        height: 300px;
        max-height: 300px;
        margin-top: 1em;
        border-radius: 4px;
        border: 2px solid #cecece;
        overflow-y: auto;
        background-color: #2d2d2d;
      }

      #console .console-message {
        padding: 0.25em 0.5em;
        border-bottom: 1px solid #cecece;
      }

      /* Command Input Area */
      #command-wrapper {
        display: flex;
        flex-direction: row;
        margin-top: 1em;
      }

      #command-wrapper #console-input {
        flex-grow: 1;
        padding: 0.5em;
        background-color: #1d1d1d;
        color: #cecece;
        border: 1px solid #cecece;
        border-radius: 4px;
      }

      /* Utility Classes */
      .red {
        color: #ff0000;
      }

      .green {
        color: #008000;
      }

      .hidden {
        display: none !important;
      }

      /* Server Status */
      #server-status.red {
        color: #ff0000;
      }

      #server-status.green {
        color: #00ff00;
      }

      /* Server Address Input */
      #server-address {
        padding: 0.5em;
        background-color: #1d1d1d;
        color: #cecece;
        border: 1px solid #cecece;
        border-radius: 4px;
        width: 250px;
      }

      /* Cookie Message */
      #cookie-message {
        display: none;
        flex-direction: row;
        justify-content: space-between;
        position: fixed;
        bottom: 0;
        left: 0;
        line-height: 2rem;
        border-top: 1px solid #c3c3c3;
        background-color: #2d2d2d;
        color: #c3c3c3;
        width: 100%;
        padding: 0.5em;
      }

      #cookie-message:hover {
        cursor: pointer;
      }

      #cookie-message span {
        padding: 0 0.5rem;
      }

      /* Color indicators for spans */
      .color-player {
        color: #52b44c;
      }

      .color-self {
        color: #ffa565;
      }

      .color-item {
        color: #fc5252;
      }

      .color-location {
        color: #5ea2c1;
      }
    </style>

    <!-- Load the application module which will initialize everything -->
    <script type="module" src="client/app.js"></script>

    <!-- Load test utilities -->
    <script type="module" src="client/client-test-utilities.js"></script>
  </head>
  <body>
    <div id="page-layout">
      <!-- Main Content -->
      <div id="main-content">
        <h2 id="header-text">Client Modules Test</h2>

        <div id="status-bar">
          <div>
            AP Server: <span id="server-status" class="red">Not Connected</span>
          </div>
          <div>
            <label for="server-address">Server Address:</label>
            <input id="server-address" value="ws://localhost:38281" />
          </div>
        </div>

        <div id="progress-container">
          <h3 id="progress-container-header">Location Check Progress</h3>
          <progress id="progress-bar" value="0" max="30000"></progress>
          Checks sent: <span id="checks-sent">0</span> / 200<br />
          <div class="button-container">
            <button id="control-button" disabled="disabled">Begin!</button>
            <button id="quick-check-button" disabled="disabled">
              Quick Check
            </button>
          </div>
        </div>

        <div id="console">
          <!-- Populated by JS -->
        </div>

        <div id="command-wrapper">
          <input
            id="console-input"
            placeholder="Enter a command here, then press enter."
          />
        </div>
      </div>
    </div>

    <div id="cookie-message">
      <span
        >This website uses cookies to store information about displayed
        content.</span
      >
      <span>‚ùå</span>
    </div>
  </body>
</html>
